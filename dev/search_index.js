var documenterSearchIndex = {"docs":
[{"location":"optimization/#Optimization","page":"Optimization","title":"Optimization","text":"","category":"section"},{"location":"optimization/","page":"Optimization","title":"Optimization","text":"Modules = [SPM]\nPages = [\"interface.jl\", \"bisectioncl.jl\", \"double-bootstrap.jl\", \"sacl.jl\", \"optsettings.jl\", \"grid-search.jl\", \"nlopt.jl\"]","category":"page"},{"location":"monitoring_risk_adjusted/#Monitoring-risk-adjusted-surgical-outcomes","page":"Monitoring risk-adjusted surgical outcomes","title":"Monitoring risk-adjusted surgical outcomes","text":"","category":"section"},{"location":"monitoring_risk_adjusted/","page":"Monitoring risk-adjusted surgical outcomes","title":"Monitoring risk-adjusted surgical outcomes","text":"using SPM, Distributions, Random, Parameters, CSV, DataFrames, CategoricalArrays, MixedModels, Plots","category":"page"},{"location":"monitoring_risk_adjusted/","page":"Monitoring risk-adjusted surgical outcomes","title":"Monitoring risk-adjusted surgical outcomes","text":"dat = CSV.read(datadir(\"cardiacsurgery.csv\"), DataFrame)\ndat.surgeon = categorical(dat.surgeon)\ndat_ic = dat[dat.date .<= 730, :]\ndat_oc = dat[730 .< dat.date .<= 1095, :]\nmod = fit(MixedModel, @formula(status ~ Parsonnet + (1|surgeon)), dat_ic, Bernoulli())","category":"page"},{"location":"monitoring_risk_adjusted/","page":"Monitoring risk-adjusted surgical outcomes","title":"Monitoring risk-adjusted surgical outcomes","text":"Random.seed!(239184367)\nSTAT = RiskAdjustedCUSUM(Δ = 0.75, model = mod, response=:status)\nLIM = OneSidedFixedLimit(1.0, true)\nNOM = ARL(1000)\nPH2 = Phase2(Bootstrap(), dat_ic)\n\nCH = ControlChart(STAT, LIM, NOM, PH2)\nsaCL!(CH, verbose=true, gamma=0.05)","category":"page"},{"location":"monitoring_risk_adjusted/","page":"Monitoring risk-adjusted surgical outcomes","title":"Monitoring risk-adjusted surgical outcomes","text":"proc = apply_chart(CH, dat_oc)","category":"page"},{"location":"monitoring_risk_adjusted/","page":"Monitoring risk-adjusted surgical outcomes","title":"Monitoring risk-adjusted surgical outcomes","text":"plt = plot_series(proc, dpi=300, label=\"\")","category":"page"},{"location":"monitoring_risk_adjusted/","page":"Monitoring risk-adjusted surgical outcomes","title":"Monitoring risk-adjusted surgical outcomes","text":"(Image: example-risk-adjusted)","category":"page"},{"location":"using_control_charts/#Setting-up-a-control-chart","page":"Setting up a control chart","title":"Setting up a control chart","text":"","category":"section"},{"location":"monitoring_nonparametric_profiles/#Monitoring-nonparametric-profiles","page":"Monitoring nonparametric profiles","title":"Monitoring nonparametric profiles","text":"","category":"section"},{"location":"monitoring_nonparametric_profiles/","page":"Monitoring nonparametric profiles","title":"Monitoring nonparametric profiles","text":"using SPM, Distributions, Random, Loess, Plots, LaTeXStrings","category":"page"},{"location":"monitoring_nonparametric_profiles/","page":"Monitoring nonparametric profiles","title":"Monitoring nonparametric profiles","text":"Random.seed!(41289355)\nn = 500\nnj = 20\nx_grid = collect(0.5:0.5:10)\nxs = Matrix{Float64}(undef, n, nj)\nfor i in 1:n\n    xs[i, :] = x_grid\nend\nys = sin.(xs) .+ randn(n, nj)\ng = loess(vec(xs), vec(ys), span=0.3)\nplt = plot(minimum(xs):0.01:maximum(xs), (x) -> predict(g, x), linewidth=1.75, label=L\"\\hat{f}(x)\", dpi=300)\nscatter!(plt, vec(xs), vec(ys), markersize=1, label=\"\", colour=\"black\")","category":"page"},{"location":"monitoring_nonparametric_profiles/","page":"Monitoring nonparametric profiles","title":"Monitoring nonparametric profiles","text":"(Image: example-loess-ic)","category":"page"},{"location":"monitoring_nonparametric_profiles/","page":"Monitoring nonparametric profiles","title":"Monitoring nonparametric profiles","text":"dat = FunctionalData(xs, ys)\nSTAT = NEWMA(0.2, g, dat)\nLIM = OneSidedBootstrapLimit(STAT, true, 1000)\nNM = ARL(500)\nPH2 = Phase2(Bootstrap(), dat)\nCH = ControlChart(STAT, LIM, NM, PH2)\n\nn2 = 150\nxs_oc = xs[1:n2, :]\nys_ic = sin.(xs_oc) .+ randn(n2, nj)\nys_oc = sin.(xs_oc) + 2*cos.(xs_oc) .+ randn(n2, nj)\nys_oc2 = sin.(xs_oc) .+ 2*randn(n2, nj)\ndat_ic = FunctionalData(xs_oc, ys_ic)\ndat_oc = FunctionalData(xs_oc, ys_oc)\ndat_oc2 = FunctionalData(xs_oc, ys_oc2)\n\nproc_ic = apply_chart(CH, dat_ic)\nproc_oc = apply_chart(CH, dat_oc)\nproc_oc2 = apply_chart(CH, dat_oc2)","category":"page"},{"location":"monitoring_nonparametric_profiles/","page":"Monitoring nonparametric profiles","title":"Monitoring nonparametric profiles","text":"markersize=1.5\nplt1 = plot_series(proc_ic, marker=:d, title=\"In-control\", l_linestyle=:dot, markersize=markersize, dpi = 300, label=\"\")\nplt2 = plot_series(proc_oc, marker=:o, title=\"Profile shift\",l_linestyle=:dot,  markersize=markersize, dpi = 300, colour = palette(:tab10)[2], label=\"\")\nplt3 = plot_series(proc_oc2, marker=:square, title=\"Variance shift\", l_linestyle=:dot, markersize=markersize, dpi = 300, colour = palette(:tab10)[3], label=\"\")\nl = @layout [grid(1,2); _{0.2w} c{0.55w} _{0.25w}]\nplt = plot(plt1,plt2,plot(frame=:none), plt3; layout = l)","category":"page"},{"location":"monitoring_nonparametric_profiles/","page":"Monitoring nonparametric profiles","title":"Monitoring nonparametric profiles","text":"(Image: example-loess-chart)","category":"page"},{"location":"nominal_properties/#Nominal-properties","page":"Nominal properties","title":"Nominal properties","text":"","category":"section"},{"location":"nominal_properties/","page":"Nominal properties","title":"Nominal properties","text":"Modules = [SPM]\nPages = [\"nominal-interface.jl\"]","category":"page"},{"location":"control_limits/#Control-limits","page":"Control limits","title":"Control limits","text":"","category":"section"},{"location":"control_limits/","page":"Control limits","title":"Control limits","text":"Modules = [SPM]\nPages = [\"limits-interface.jl\", \"fixed.jl\", \"dynamic.jl\"]","category":"page"},{"location":"monitoring_mean_covariance/#Joint-monitoring-of-mean-and-covariance-matrix","page":"Joint monitoring of mean and covariance matrix","title":"Joint monitoring of mean and covariance matrix","text":"","category":"section"},{"location":"monitoring_mean_covariance/","page":"Joint monitoring of mean and covariance matrix","title":"Joint monitoring of mean and covariance matrix","text":"using SPM, LinearAlgebra, Random, Distributions, CSV, DataFrames, Plots","category":"page"},{"location":"monitoring_mean_covariance/","page":"Joint monitoring of mean and covariance matrix","title":"Joint monitoring of mean and covariance matrix","text":"seed = 54397858713\nRandom.seed!(seed)\n# Normal distribution given by example 7.7 from Qiu (2013)\nμ = [0, 0, 0]\nΣ = [1.0 0.8 0.5; 0.8 1.0 0.8; 0.5 0.8 1.0]\nΣ_sqm1 = inv(sqrt(Σ))\nDIST = MultivariateNormal(μ, Σ)\nNM = QRL(200, 0.5)\nSTATS = (MCUSUM(k=0.25, p=3), MCUSUM(k=0.5, p=3), MCUSUM(k=1.0, p=3), MEWMC(λ=0.2, p = 3))\nEST_STATS = Tuple(LocationScaleStatistic(s, μ, Σ_sqm1) for s in STATS)\nLIMS = Tuple(OneSidedFixedLimit(1.0, true) for _ in 1:4)\nPH2 = Phase2Distribution(DIST)\nCH = ControlChart(EST_STATS, LIMS, NM, PH2)\nbootstrapCL!(CH)","category":"page"},{"location":"monitoring_mean_covariance/","page":"Joint monitoring of mean and covariance matrix","title":"Joint monitoring of mean and covariance matrix","text":"data = CSV.read(datadir(\"example77.csv\"), DataFrame)\nxnew = Matrix(data)[:, 1:3]\nproc = apply_chart(CH, xnew)\nsubtitles = [\"MCUSUM k = 0.25\", \"MCUSUM k = 0.5\", \"MCUSUM k = 1\", \"MEWMC λ = 0.2\"]\nplt = plot_series(proc, dpi=300, subtitles=subtitles)","category":"page"},{"location":"monitoring_mean_covariance/","page":"Joint monitoring of mean and covariance matrix","title":"Joint monitoring of mean and covariance matrix","text":"save(plotsdir(\"example-multiple-mean-covariance.png\"), plt)","category":"page"},{"location":"monitoring_mean_covariance/","page":"Joint monitoring of mean and covariance matrix","title":"Joint monitoring of mean and covariance matrix","text":"(Image: example-multiple-mean-covariance)","category":"page"},{"location":"phase_2/#Phase-2","page":"Phase 2","title":"Phase 2","text":"","category":"section"},{"location":"phase_2/","page":"Phase 2","title":"Phase 2","text":"Modules = [SPM]\nPages = [\"phase2-interface.jl\", \"bootstrap.jl\"]","category":"page"},{"location":"control_charts/#Control-charts","page":"Control charts","title":"Control charts","text":"","category":"section"},{"location":"control_charts/","page":"Control charts","title":"Control charts","text":"Modules = [SPM]\nPages = [\"charts-interface.jl\", \"simulate.jl\", \"retrospective.jl\"]","category":"page"},{"location":"statistics/#Monitoring-statistics","page":"Monitoring statistics","title":"Monitoring statistics","text":"","category":"section"},{"location":"statistics/","page":"Monitoring statistics","title":"Monitoring statistics","text":"Modules = [SPM]\nPages = [\"stats-interface.jl\", \"univariate.jl\", \"multivariate.jl\", \"residual.jl\", \"categorization.jl\", \"LLCUSUM.jl\", \"LLD.jl\", \"MOC.jl\", \"functional.jl\", \"NEWMA.jl\", \"adaptive-sampling.jl\", \"RSADA.jl\", \"TRAS.jl\"]","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"CurrentModule = SPM","category":"page"},{"location":"#SPM","page":"Introduction","title":"SPM","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Documentation for SPM, a package for Statistical Process Monitoring.","category":"page"},{"location":"#Package-features","page":"Introduction","title":"Package features","text":"","category":"section"},{"location":"#Control-charts","page":"Introduction","title":"Control charts","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Univariate Shewhart, EWMA, AEWMA, CUSUM, adaptive CUSUM control charts.\nMultivariate Shewhart, MEWMA, MAEWMA, MCUSUM, AMCUSUM control charts.\nControl charts for monitoring the variance-covariance matrix.\nControl charts based on data categorization for monitoring the process mean.\nControl charts for partially-observed data streams.\nControl charts for profile monitoring.\nSupport for multi-chart monitoring schemes.","category":"page"},{"location":"#Control-limits","page":"Introduction","title":"Control limits","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Classical one-sided and two-sided fixed control limits.\nDeterministic time-varying control limits.\nDynamic control limits based on bootstrap with constat false-alarm rate.","category":"page"},{"location":"#Control-limit-design","page":"Introduction","title":"Control limit design","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Classical and improved bisection methods.\nStochastic approximation algorithms.\nSupport for in-control ARL and in-control run length quantiles.\nSupport for multi-chart control limit design.","category":"page"},{"location":"#Hyperparameter-tuning","page":"Introduction","title":"Hyperparameter tuning","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Optimization of control chart parameters for user-defined out-of-control scenarios.\nAlgorithms based on grid search and nonlinear optimizers.","category":"page"},{"location":"#Extensibility-to-user-defined-monitoring-statistics","page":"Introduction","title":"Extensibility to user-defined monitoring statistics","text":"","category":"section"},{"location":"monitoring_autoregressive/#Monitoring-residuals-of-an-autoregressive-process","page":"Monitoring residuals of an autoregressive process","title":"Monitoring residuals of an autoregressive process","text":"","category":"section"},{"location":"monitoring_autoregressive/","page":"Monitoring residuals of an autoregressive process","title":"Monitoring residuals of an autoregressive process","text":"using SPM, Distributions, Random, NLopt, Plots, Parameters, LaTeXStrings","category":"page"},{"location":"monitoring_autoregressive/","page":"Monitoring residuals of an autoregressive process","title":"Monitoring residuals of an autoregressive process","text":"import SPM.residual!, SPM.new_data!\nmutable struct AR1Statistic{S} <: ResidualStatistic\n    stat::S\n    phi::Float64\n    ym1::Float64\nend\n\nfunction residual!(x, S::AR1Statistic)\n    yhat = x - S.phi * S.ym1   \n    S.ym1 = x\n    return yhat\nend\n\n@with_kw mutable struct Phase2AR1<:SPM.AbstractPhase2\n    phi::Float64\n    y::Float64 = 0.0\n    init::Bool = false\nend\n\nfunction new_data!(PH2::Phase2AR1)\n    if !PH2.init\n        PH2.y = randn()       \n        PH2.init = true\n    end\n    yhat = PH2.phi * PH2.y + randn()\n    PH2.y = yhat\n    return yhat\nend","category":"page"},{"location":"monitoring_autoregressive/","page":"Monitoring residuals of an autoregressive process","title":"Monitoring residuals of an autoregressive process","text":"phi = 0.5\nPH2 = Phase2AR1(phi = phi)\nSTAT = AR1Statistic(EWMA(λ=0.1), phi, 0.0)\nNOM = ARL(500)\nLIM = TwoSidedFixedLimit(1.0)\nCH = ControlChart(STAT, LIM, NOM, PH2)\n\nseed = 4398354798\nRandom.seed!(seed)\ndelta = 2.0\nrlsim_oc = x -> run_sim_oc(x, shift = delta)\nsettings = OptSettings(verbose = false, minpar = [0.001], maxpar = [0.99])\noptimize_design!(CH, rlsim_oc, settings, optimizer=:LN_BOBYQA)","category":"page"},{"location":"monitoring_autoregressive/","page":"Monitoring residuals of an autoregressive process","title":"Monitoring residuals of an autoregressive process","text":"n = 100\ntau = 50\nDGP = Phase2AR1(phi=phi)\ny = [new_data!(DGP) for _ in 1:n]\ny[(tau+1):n] .+= delta\nproc = apply_chart(CH, y)\nplt = plot_series(proc, dpi=300, label=\"\")\nvline!(plt, [tau], label=L\"\\tau\", linestyle=:dot, colour=\"black\")","category":"page"},{"location":"monitoring_autoregressive/","page":"Monitoring residuals of an autoregressive process","title":"Monitoring residuals of an autoregressive process","text":"save(plotsdir(\"example-autocorrelated.png\"), plt)","category":"page"},{"location":"monitoring_autoregressive/","page":"Monitoring residuals of an autoregressive process","title":"Monitoring residuals of an autoregressive process","text":"(Image: example-autocorrelated)","category":"page"}]
}
